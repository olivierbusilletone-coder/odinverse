<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ODINVERSE ‚Äî Viking NFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SDK MultiversX WalletConnect -->
<script src="https://cdn.jsdelivr.net/npm/@multiversx/sdk-wallet-connect-provider@2.4.1/out/walletConnectProvider.umd.js"></script>

<style>
body {
    background:#0e0e0e;
    color:#fff;
    font-family:Arial, sans-serif;
    text-align:center;
}
button {
    padding:14px 28px;
    border:none;
    border-radius:8px;
    background:#ff9800;
    font-size:16px;
    cursor:pointer;
}
.status { margin-top:15px; }
</style>
</head>

<body>

<h1>‚öîÔ∏è ODINVERSE</h1>
<button id="connectBtn">üîê Connect Wallet</button>
<div class="status" id="status">‚ùå Non connect√©</div>
<div class="status" id="address"></div>

<script>
let provider;

const statusEl = document.getElementById("status");
const addressEl = document.getElementById("address");
const connectBtn = document.getElementById("connectBtn");

connectBtn.onclick = connectWallet;

async function connectWallet() {
    statusEl.innerText = "üîÑ Connexion en cours...";
    addressEl.innerText = "";

    try {
        // ‚úÖ BON objet global (r√©el)
        if (
            !window.multiversxSdkWalletConnectProvider ||
            !window.multiversxSdkWalletConnectProvider.WalletConnectProvider
        ) {
            throw new Error("SDK WalletConnect non charg√©");
        }

        const WalletConnectProvider =
            window.multiversxSdkWalletConnectProvider.WalletConnectProvider;

        provider = new WalletConnectProvider({
            projectId: "TON_PROJECT_ID_ICI",
            chainId: "1", // Mainnet
            relayUrl: "wss://relay.walletconnect.com"
        });

        await provider.init();

        await provider.login({
            callbackUrl: window.location.href,
            qrCodeModal: true
        });

        const address = provider.getAddress();

        statusEl.innerText = "‚úÖ Wallet connect√©";
        addressEl.innerText = "üü¢ " + address;
        connectBtn.innerText = "üîì Wallet connect√©";
        connectBtn.disabled = true;

    } catch (err) {
        console.error(err);
        statusEl.innerText = "‚ùå Erreur : " + err.message;
    }
}
</script>


</body>
</html>
