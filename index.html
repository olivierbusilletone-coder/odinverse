<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ODINVERSE â€” Viking NFT Project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- âœ… SDK WalletConnect MultiversX (UMD navigateur) -->
    <script src="https://cdn.jsdelivr.net/npm/@multiversx/sdk-wallet-connect-provider@2.4.1/out/walletConnectProvider.umd.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0e0e0e;
            color: #fff;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        header {
            padding: 60px 20px;
            background: linear-gradient(180deg, #1a1a1a, #000);
        }

        h1 {
            font-size: 42px;
            margin-bottom: 10px;
        }

        button {
            padding: 14px 28px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background: #ff9800;
            color: #000;
            margin-top: 20px;
        }

        button:hover {
            background: #ffc107;
        }

        section {
            padding: 40px 20px;
        }

        .status {
            margin-top: 20px;
            font-size: 16px;
        }

        footer {
            padding: 20px;
            background: #000;
            opacity: 0.6;
        }
    </style>
</head>
<body>

<header>
    <h1>âš”ï¸ ODINVERSE</h1>
    <p>Le projet NFT Viking ultime sur MultiversX</p>

    <button id="connectBtn">ğŸ” Connect Wallet</button>

    <div class="status" id="status">âŒ Non connectÃ©</div>
    <div class="status" id="address"></div>
</header>

<section>
    <h2>ğŸ”¥ Le Projet</h2>
    <p>
        ODINVERSE est une collection NFT inspirÃ©e de la mythologie viking.
        Guerriers, runes, avantages exclusifs et mini-jeux on-chain.
    </p>
</section>

<section>
    <h2>ğŸ§  Avantages</h2>
    <p>âš”ï¸ Jeux on-chain Â· ğŸª™ Airdrops Â· ğŸ›¡ï¸ Avantages partenaires Â· ğŸ”¥ Challenges</p>
</section>

<section>
    <h2>ğŸ’ Mint</h2>
    <p>Prix : <strong>0.05 EGLD</strong></p>
    <button disabled>Mint bientÃ´t disponible</button>
</section>

<footer>
    Â© 2025 ODINVERSE â€” Built for warriors
</footer>

<script>
let provider = null;

const statusEl = document.getElementById("status");
const addressEl = document.getElementById("address");
const connectBtn = document.getElementById("connectBtn");

connectBtn.addEventListener("click", connectWallet);

async function connectWallet() {
    statusEl.innerText = "ğŸ”„ Connexion en cours...";
    addressEl.innerText = "";

    try {
        // âœ… VÃ©rification SDK
        if (
            !window.MultiversXWalletConnectProvider ||
            !window.MultiversXWalletConnectProvider.WalletConnectProvider
        ) {
            throw new Error("SDK WalletConnect non chargÃ©");
        }

        const WalletConnectProvider =
            window.MultiversXWalletConnectProvider.WalletConnectProvider;

        // ğŸŒ Bridge officiel
        const walletConnectBridge = "https://bridge.walletconnect.org";

        // ğŸŒ RÃ©seau
        const chainId = "1"; // Mainnet | "T" Testnet | "D" Devnet

        // ğŸ” CrÃ©ation provider
        provider = new WalletConnectProvider(walletConnectBridge, {
            chainId: chainId
        });

        // ğŸ“² Init WalletConnect
        await provider.init();

        // ğŸ“¸ Callback QR Code (OBLIGATOIRE)
        await provider.login({
            callbackUrl: window.location.href,
            qrCodeModal: true
        });

        // ğŸ“¬ Adresse wallet
        const address = await provider.getAddress();

        statusEl.innerText = "âœ… Wallet connectÃ©";
        addressEl.innerText = "ğŸŸ¢ " + address;

        connectBtn.innerText = "ğŸ”“ Wallet connectÃ©";
        connectBtn.disabled = true;

    } catch (err) {
        console.error(err);
        statusEl.innerText = "âŒ Erreur : " + err.message;
    }
}
</script>


</body>
</html>
